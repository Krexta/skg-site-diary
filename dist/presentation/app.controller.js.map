{"version":3,"sources":["../../src/presentation/app.controller.ts"],"sourcesContent":["// cSpell:ignore graphiql\nimport { Controller, Get, Next, Post, Req, Res } from '@nestjs/common';\nimport { PostGraphileResponseNode } from 'postgraphile';\n\nimport { AppScenario } from '../application/scenario/app.scenario';\n\nimport { middleware } from './middleware';\n\nimport type { Request, Response } from 'express';\n\n@Controller()\nexport class AppController {\n  constructor(private readonly appService: AppScenario) {}\n\n  @Get()\n  getHello(): string {\n    return this.appService.getHello();\n  }\n\n  @Get(middleware.graphiqlRoute)\n  graphiql(\n    @Req() request: Request,\n    @Res() response: Response,\n    @Next() next: (e?: 'route' | Error) => void,\n  ) {\n    middleware.graphiqlRouteHandler?.(\n      new PostGraphileResponseNode(request, response, next),\n    );\n  }\n\n  @Post(middleware.graphqlRoute)\n  graphql(\n    @Req() request: Request,\n    @Res() response: Response,\n    @Next() next: (e?: 'route' | Error) => void,\n  ) {\n    middleware.graphqlRouteHandler(\n      new PostGraphileResponseNode(request, response, next),\n    );\n  }\n}\n"],"names":["Controller","Get","Next","Post","Req","Res","PostGraphileResponseNode","AppScenario","middleware","AppController","getHello","appService","graphiql","request","response","next","graphiqlRouteHandler","graphql","graphqlRouteHandler","constructor","graphiqlRoute","graphqlRoute"],"mappings":"AAAA,yBAAyB;;;;;;;;;;;;;;;AACzB,SAASA,UAAU,EAAEC,GAAG,EAAEC,IAAI,EAAEC,IAAI,EAAEC,GAAG,EAAEC,GAAG,QAAQ,iBAAiB;AACvE,SAASC,wBAAwB,QAAQ,eAAe;AAExD,SAASC,WAAW,QAAQ,0CAAuC;AAEnE,SAASC,UAAU,QAAQ,wBAAe;AAK1C,OAAO,MAAMC;IAIXC,WAAmB;QACjB,OAAO,IAAI,CAACC,UAAU,CAACD,QAAQ;IACjC;IAGAE,SACE,AAAOC,OAAgB,EACvB,AAAOC,QAAkB,EACzB,AAAQC,IAAmC,EAC3C;QACAP,WAAWQ,oBAAoB,GAC7B,IAAIV,yBAAyBO,SAASC,UAAUC;IAEpD;IAGAE,QACE,AAAOJ,OAAgB,EACvB,AAAOC,QAAkB,EACzB,AAAQC,IAAmC,EAC3C;QACAP,WAAWU,mBAAmB,CAC5B,IAAIZ,yBAAyBO,SAASC,UAAUC;IAEpD;IA3BAI,YAAY,AAAiBR,UAAuB,CAAE;aAAzBA,aAAAA;IAA0B;AA4BzD;;;;;;;;mBArBkBS;;;;;;;;;;;;;oBAWCC"}